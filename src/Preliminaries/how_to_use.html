<!DOCTYPE html>
<html  lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1"><meta name="viewport" content="width=device-width, initial-scale=1" />

      <title>1.1. How to Use This Book</title>
    
          <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
          <link rel="stylesheet" href="../../_static/theme.css " type="text/css" />
          <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
          <link rel="stylesheet" href="../../_static/css/s4defs-roles.css" type="text/css" />
          <link rel="stylesheet" href="../../_static/css/iframe.css" type="text/css" />
          <link rel="stylesheet" href="../../_static/css/admonitions.css" type="text/css" />
          <link rel="stylesheet" href="../../_static/css/s4defs-roles.css" type="text/css" />
          <link rel="stylesheet" href="../../_static/css/iframe.css" type="text/css" />
          <link rel="stylesheet" href="../../_static/css/admonitions.css" type="text/css" />
      
      <!-- sphinx script_files -->
        <script src="../../_static/documentation_options.js?v=d45e8c67"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

      
      <!-- bundled in js (rollup iife) -->
      <!-- <script src="../../_static/theme-vendors.js"></script> -->
      <script src="../../_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="1.2. The Programs of Consistent Lethargy" href="what_makes_fast_hs.html" />
  <link rel="prev" title="1. Preliminaries" href="index.html" /> 
  </head>

  <body>
    <div id="app">
    <div class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="../../contents.html" class="home-link">
    
      <span class="site-name">Haskell Optimization Handbook</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="../../contents.html#haskell-optimization-handbook"
         class="nav-link ">
         Table of Contents
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../contents.html#indices-and-tables"
         class="nav-link ">
         indices and tables
      </a>
    </div>
  



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="../../contents.html#haskell-optimization-handbook"
         class="nav-link ">
         Table of Contents
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../contents.html#indices-and-tables"
         class="nav-link ">
         indices and tables
      </a>
    </div>
  



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="../../search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../contents.html#haskell-optimization-handbook">Table of Contents</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="index.html" class="reference internal ">Preliminaries</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../Measurement_Observation/index.html" class="reference internal ">Measurement, Profiling, and Observation</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../Optimizations/index.html" class="reference internal ">Optimizations</a>
            

            
          </li>

        
          <li class="toctree-l1 ">
            
              <a href="../Case_Studies/index.html" class="reference internal ">Case Studies</a>
            

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../contents.html#indices-and-tables">indices and tables</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 ">
            
              <a href="../glossary.html" class="reference internal ">Glossary</a>
            

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../../contents.html">Docs</a> &raquo;</li>
    
      <li><a href="index.html"><span class="section-number">1. </span>Preliminaries</a> &raquo;</li>
    
    <li><span class="section-number">1.1. </span>How to Use This Book</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="index.html"
       title="previous chapter">← <span class="section-number">1. </span>Preliminaries</a>
  </li>
  <li class="next">
    <a href="what_makes_fast_hs.html"
       title="next chapter"><span class="section-number">1.2. </span>The Programs of Consistent Lethargy →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main" v-pre>
            
  <section id="how-to-use-this-book">
<span id="how-to-use"></span><h1><span class="section-number">1.1. </span>How to Use This Book<a class="headerlink" href="#how-to-use-this-book" title="Link to this heading">¶</a></h1>
<section id="purpose">
<h2><span class="section-number">1.1.1. </span>Purpose<a class="headerlink" href="#purpose" title="Link to this heading">¶</a></h2>
<p>This book is written as a handbook for the intrepid Haskell developer. It
attempts to make clear aspects of GHC-based Haskell so that performance
optimizations and recommendations are actionable, rather than mysterious
invocations whispered around the internet.</p>
</section>
<section id="intended-audience">
<h2><span class="section-number">1.1.2. </span>Intended Audience<a class="headerlink" href="#intended-audience" title="Link to this heading">¶</a></h2>
<p>The Haskell Optimization Handbook is intended for developers using Haskell in
their day to day life for money or pleasure. It assumes the audience is
proficient with pure functional programming concepts, such as recursion, purity,
higher-ordered functions, functors, applicative functors, monads et cetera., and
the basics of the Haskell ecosystem, such as using cabal or stack to compile and
run a project.</p>
</section>
<section id="what-will-i-need">
<h2><span class="section-number">1.1.3. </span>What will I need?<a class="headerlink" href="#what-will-i-need" title="Link to this heading">¶</a></h2>
<p>You need only code you are interested in optimizing and the will to go down the
optimization rabbit hole. If you have no code to optimize, then you may consider
picking your favorite Haskell library and attempting to optimize that!</p>
<p>The book assumes you are using GHC 9.2.x and a Linux distribution (kernel
version <code class="docutils literal notranslate"><span class="pre">5.8</span></code> and higher). Should you be using an older compiler than some
sections, such as <a class="reference internal" href="../Measurement_Observation/Haskell_Profiling/eventlog.html#eventlog-chapter"><span class="std std-ref">Using EventLog</span></a>; which arrived in <code class="docutils literal notranslate"><span class="pre">GHC</span> <span class="pre">8.8</span></code>
may still be useful, while others such as <a class="reference internal" href="../Measurement_Observation/Binary_Profiling/cachegrind.html#cachegrind-chapter"><span class="std std-ref">Using Cachegrind</span></a>; which relies on
<a class="reference internal" href="../glossary.html#term-DWARF"><span class="xref std std-term">DWARF</span></a> symbols (added in <code class="docutils literal notranslate"><span class="pre">GHC</span> <span class="pre">8.10.x</span></code>) may not be applicable.
Similarly, some chapters, such as <a class="reference internal" href="../Measurement_Observation/Binary_Profiling/linux_perf.html#perf-chapter"><span class="std std-ref">Using perf</span></a> will only be
applicable for Linux and Linux based operating systems.</p>
</section>
<section id="notation">
<h2><span class="section-number">1.1.4. </span>Notation<a class="headerlink" href="#notation" title="Link to this heading">¶</a></h2>
<p>Code examples are written in Haskell unless otherwise noted. Other notation
follows standards in programming language theory and computer science academic
discourse:</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(\perp\)</span> to mean the <em>bottom</em> value</p></li>
<li><p><span class="math notranslate nohighlight">\(Foo[x \rightarrow e]\)</span> to mean the result of substituting <span class="math notranslate nohighlight">\(e\)</span> for
<span class="math notranslate nohighlight">\(x\)</span> in <span class="math notranslate nohighlight">\(Foo\)</span>, and</p></li>
<li><p>Big-O notation: <span class="math notranslate nohighlight">\(\mathcal{O}(n\log{}n)\)</span>, to mean the asymptotic running
times of algorithms. In particular, if an algorithm takes
<span class="math notranslate nohighlight">\(\mathcal{O}(n \log{} n)\)</span> time, then it can process any set of
<span class="math notranslate nohighlight">\(n\)</span> input items in at most <span class="math notranslate nohighlight">\(c*n \log{} n\)</span> time, for some fixed
constant <span class="math notranslate nohighlight">\(c\)</span>.</p></li>
</ol>
</section>
<section id="where-to-begin">
<h2><span class="section-number">1.1.5. </span>Where to Begin<a class="headerlink" href="#where-to-begin" title="Link to this heading">¶</a></h2>
<p>The book is structured into discrete independent parts to better serve as a
handbook. Thus, the book is not meant to be read in a linear order. Instead, one
should pick and choose which chapter to read next based on their needs because
<em>the book assumes you have a problem that needs solving</em>.</p>
<p>There are two parts: Part 1, focuses on measurement, profiling and observation
of Haskell programs. This part is ordered from the bottom-up; it begins with
tools and probes that are language agnostic and close to the machine, such as
<a class="reference internal" href="../Measurement_Observation/Binary_Profiling/linux_perf.html#perf-chapter"><span class="std std-ref">Perf</span></a> and <a class="reference internal" href="../Measurement_Observation/Binary_Profiling/cachegrind.html#cachegrind-chapter"><span class="std std-ref">Cachegrind</span></a>, then
proceeds through each <a class="reference external" href="https://en.wikipedia.org/wiki/Intermediate_representation#:~:text=An%20intermediate%20representation%20(IR)%20is,such%20as%20optimization%20and%20translation.">intermediate representation</a>
(IR) describing the tools, probes, and information available at each IR.</p>
<p>Part 2, provides an ordered sequence of techniques to optimize code. It is
ordered from the easiest methods, such as choosing the right libraries; to the
hardest and more invasive methods, such as exploiting <a class="reference internal" href="../Optimizations/Code_Changes/backpack.html#backpack-chapter"><span class="std std-ref">Backpack</span></a> for fine-grained <a class="reference internal" href="../glossary.html#term-Unboxed"><span class="xref std std-term">Unboxed</span></a> data types or exploiting
<a class="reference internal" href="../glossary.html#term-Levity-Polymorphism"><span class="xref std std-term">Levity Polymorphism</span></a> to control the runtime representation of a data
type.</p>
</section>
<section id="goals">
<h2><span class="section-number">1.1.6. </span>Goals<a class="headerlink" href="#goals" title="Link to this heading">¶</a></h2>
<p>HOH is:</p>
<ol class="arabic simple">
<li><p>A freely available online book.</p></li>
<li><p>Is actionable: A reader can read a section and apply a technique to make progress for their problem.</p></li>
<li><p>Is relevant: Case studies are not manufactured examples, rather they originate from real world code.</p></li>
<li><p>Is practical: Content that describes a performance technique describes how to
implement it, when to use it, and its observable effect on a code base.
Content that describes a method of analysis describes what the method is, how
to use the method, what the perceived results of the method should be and
relevant signals in the output of the method. For example, the GHC heap
profiling section should describe what heap profiling is, how to do the heap
profiling, what the output should look like, and most importantly a gallery
of examples of poor performing heap profiles and an explanation of why they
are poor performing.</p></li>
<li><p>Community driven.</p></li>
<li><p>Maintained and updated over time, with supported versions of GHC beginning at 8.10.x (for DWARF symbols).</p></li>
<li><p>Understandable for intermediate to expert Haskell developers.</p></li>
</ol>
</section>
<section id="non-goals">
<h2><span class="section-number">1.1.7. </span>Non-Goals<a class="headerlink" href="#non-goals" title="Link to this heading">¶</a></h2>
<p>HOH does not have:</p>
<ol class="arabic simple">
<li><p>Content suitable for beginner functional programmers.</p></li>
<li><p>Explanations of project setup, build tools, using or setting up a shell or
deployment of any kind, instructions on installing any third party tools for
a given platform.</p></li>
<li><p>Descriptions, analyses and explanations of functional algorithms or data
structures. Content will instead be “Try unordered-containers if you have
this or that set of constraints”, rather than “This is what a banker’s queue
<a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> or <a class="reference external" href="https://en.wikipedia.org/wiki/Hash_array_mapped_trie">HAMT</a> is
…”.</p></li>
<li><p>A monad or monad transformer tutorial. This is assumed knowledge in the
audience.</p></li>
</ol>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>See <span id="id3">Okasaki [<a class="reference internal" href="../../contents.html#id17" title="Chris Okasaki. Purely Functional Data Structures. Cambridge University Press, 1998. doi:10.1017/CBO9780511530104.">1</a>]</span>, page 23.</p>
</aside>
</aside>
</section>
</section>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="index.html"
       title="previous chapter">← <span class="section-number">1. </span>Preliminaries</a>
  </li>
  <li class="next">
    <a href="what_makes_fast_hs.html"
       title="next chapter"><span class="section-number">1.2. </span>The Programs of Consistent Lethargy →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2022-2024, Jeffrey Young (doyougnu).
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a> 0.8.0.
</div>
            </div>
          </div>
      </page>
    </div></div>
    
    
  </body>
</html>